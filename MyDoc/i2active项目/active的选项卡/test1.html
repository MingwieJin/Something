<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<link rel="stylesheet" href="css/bootstrap.min.css">
		<link rel="stylesheet" href="css/button-type.css">
		<link rel="stylesheet" href="css/db_main.css">
		<script src="http://cdn.static.runoob.com/libs/jquery/2.1.1/jquery.min.js"></script>
		<script src="js/bootstrap.min.js"></script>			
	
	</head>
	<body>

<!--<div class="choosebar"><strong>源端：</strong>
	<a href="javascript:void(0);" onclick="changeplan(0, 'Orcale')">Orcale</a>
	<a href="javascript:void(0);"  onclick="changeplan(0, 'Mysql')">Mysql</a>
	<a href="javascript:void(0);"  onclick="changeplan(0, 'postgres')">postgres</a>
</div>
<div class="choosebar" ><strong>目标端：</strong>
	<a href="javascript:void(0);" onclick="changeplan(1, 'Orcale')">Orcale</a>
	<a href="javascript:void(0);"  onclick="changeplan(1, 'Mysql')">Mysql</a>
	<a href="javascript:void(0);"  onclick="changeplan(1, 'postgres')">postgres</a>
	<br />
	消息队列:
	<a href="javascript:void(0);" onclick="changeplan(1, 'Kafka')">Kafka</a>
	<a href="javascript:void(0);"  onclick="changeplan(1, 'ActvieMQ')">ActvieMQ</a>
	<br />
	无sql型数据库:
	<a href="javascript:void(0);" onclick="changeplan(1, 'reids')">reids</a>
	<a href="javascript:void(0);"  onclick="changeplan(1, 'ssdb')">ssdb</a>
	<br />
	文件:
	<a href="javascript:void(0);" onclick="changeplan(1, 'txt')">txt</a>
	<a href="javascript:void(0);"  onclick="changeplan(1, 'csv')">csv</a>
	<a href="javascript:void(0);"  onclick="changeplan(1, 'xml')">xml</a>
	
</div>-->
<table class="tablemy" id="tablemy">
	<tr class="choosebar td-titletop">
		<td  class="td-title td-titletop" colspan="3" style="text-align: left;">源端：</td>
	</tr>	
	<tr class="choosebar" id="bar-src">
		<td  class="td-title td-titleleft">源端：</td>
		<td class="td-content content-intro">常规数据库:</td>
		<td class="td-content">
			<div class="td-inner">
				<a class="button-type1 active" href="javascript:void(0);" onclick="changeplan(0, 'oracle')">Orcale</a>
				<a class="button-type1" href="javascript:void(0);"  onclick="changeplan(0, 'mysql')">Mysql</a>
				<a class="button-type1" href="javascript:void(0);"  onclick="changeplan(0, 'postgres')">postgres</a>
			</div>
		</td>
	</tr>
	<tr class="choosebar td-titletop">
		<td  class="td-title td-titletop" colspan="3" style="border-top:1px solid #f4f4f4;text-align: left;">目标端：</td>	
	</tr>
	<tr class="choosebar bot-bar bar-1" style="border-bottom:none;" id="bar-dst-normal">
		<td class="td-title td-titleleft" rowspan="4">目标端：</td>
		<td class="td-content content-intro">常规数据库:</td>
		<td class="td-content content-name">
				<a class="button-type1 active" href="javascript:void(0);" onclick="changeplan(1, 'oracle')">Orcale</a>
				<a class="button-type1" href="javascript:void(0);"  onclick="changeplan(1, 'mysql')">Mysql</a>
				<a class="button-type1" href="javascript:void(0);"  onclick="changeplan(1, 'postgres')">postgres</a>
			
		</td>
	</tr>
	<tr class="choosebar bot-bar bar-2" id="bar-dst-nosql">
		<td class="td-content content-intro">nosql型数据库:</td>
		<td class="td-content">
				<a class="button-type1" href="javascript:void(0);" onclick="changeplan(1, 'reids')">reids</a>
				<a class="button-type1" href="javascript:void(0);"  onclick="changeplan(1, 'ssdb')">ssdb</a>		
		</td>
	</tr>
	<tr class="choosebar bot-bar bar-2" id="bar-dst-sequence">
		<td class="td-content content-intro">消息队列:</td>
		<td class="td-content content-name">
				<a class="button-type1" href="javascript:void(0);" onclick="changeplan(1, 'Kafka')">Kafka</a>
				<a class="button-type1" href="javascript:void(0);"  onclick="changeplan(1, 'ActvieMQ')">ActvieMQ</a>
			
		</td>
	</tr>
	<tr class="choosebar bot-bar bar-2" id="bar-dst-file">
		<td class="td-content content-intro">文件类型:</td>
		<td class="td-content content-name">
				<a class="button-type1" href="javascript:void(0);" onclick="changeplan(1, 'txt')">txt</a>
				<a class="button-type1" href="javascript:void(0);"  onclick="changeplan(1, 'csv')">csv</a>
				<a class="button-type1" href="javascript:void(0);"  onclick="changeplan(1, 'xml')">xml</a>			
		</td>
	</tr>
</table>

<!--手机端用-->

<!--<table class="tablemobile">
	<tr class="choosebar td-titletop">
		<td  class="td-title td-titletop" colspan="3">源端：</td>
	</tr>
	<tr class="choosebar">
		<td  class="td-title td-titleleft" style="text-align: center;">源端：</td>
		<td class="td-content content-intro">常规数据库:</td>
		<td class="td-content">
			<div class="td-inner">
				<a class="button-type1 active" href="javascript:void(0);" onclick="changeplan(0, 'Orcale')">Orcale</a>
				<a class="button-type1" href="javascript:void(0);"  onclick="changeplan(0, 'Mysql')">Mysql</a>
				<a class="button-type1" href="javascript:void(0);"  onclick="changeplan(0, 'postgres')">postgres</a>
			</div>
		</td>
	</tr>
	<tr class="choosebar td-titletop">
		<td  class="td-title td-titletop" colspan="3" style="border-top:1px solid #f4f4f4;">目标端：</td>	
	</tr>
	<tr class="choosebar bot-bar bar-1">
		<td class="td-title td-titleleft" rowspan="4" style="text-align: center;">目标端：</td>
		<td class="td-content content-intro">常规数据库:</td>
		<td class="td-content content-name">
				<a class="button-type1 active" href="javascript:void(0);" onclick="changeplan(1, 'Orcale')">Orcale</a>
				<a class="button-type1" href="javascript:void(0);"  onclick="changeplan(1, 'Mysql')">Mysql</a>
				<a class="button-type1" href="javascript:void(0);"  onclick="changeplan(1, 'postgres')">postgres</a>
			
		</td>
	</tr>
	<tr class="choosebar bot-bar bar-2">
		<td class="td-content content-intro">nosql型数据库:</td>
		<td class="td-content">
				<a class="button-type1" href="javascript:void(0);" onclick="changeplan(1, 'reids')">reids</a>
				<a class="button-type1" href="javascript:void(0);"  onclick="changeplan(1, 'ssdb')">ssdb</a>		
		</td>
	</tr>
	<tr class="choosebar bot-bar bar-2">
		<td class="td-content content-intro">消息队列:</td>
		<td class="td-content content-name">
				<a class="button-type1" href="javascript:void(0);" onclick="changeplan(1, 'Kafka')">Kafka</a>
				<a class="button-type1" href="javascript:void(0);"  onclick="changeplan(1, 'ActvieMQ')">ActvieMQ</a>
			
		</td>
	</tr>
	<tr class="choosebar bot-bar bar-2" style="border-top:none;">
		<td class="td-content">文件:</td>
		<td class="td-content">
				<a class="button-type1" href="javascript:void(0);" onclick="changeplan(1, 'txt')">txt</a>
				<a class="button-type1" href="javascript:void(0);"  onclick="changeplan(1, 'csv')">csv</a>
				<a class="button-type1" href="javascript:void(0);"  onclick="changeplan(1, 'xml')">xml</a>
			
		</td>
	</tr>
</table>-->


<div class="oracle-oracle" id="oracle-oracle">	
	<h2>oracle to oracle</h2>
		<ul id="myTab" class="nav nav-tabs">
		   <li class="active"><a href="#home" data-toggle="tab">oracle1</a></li>
		   <li><a href="#ios" data-toggle="tab">oracle2</a></li>
		   <li><a href="#jmeter" data-toggle="tab">oracle3</a></li>
		   <li><a href="#ejb" data-toggle="tab">oracle4</a></li>
		</ul>
		
		
		<div id="myTabContent" class="tab-content">
		   <div class="tab-pane fade in active" id="home">
		      <p>111.</p>
		   </div>
		   <div class="tab-pane fade" id="ios">
		      <p>222</p>
		   </div>
		   <div class="tab-pane fade" id="jmeter">
		      <p>333</p>
		   </div>
		   <div class="tab-pane fade" id="ejb">
		      <p>444
		      </p>
		   </div>
		</div>	
</div>

<div class="kafuka-kafuka hidecontiner" id="kafuka-kafuka">	
	<h2>Mysql to Mysql</h2>
		<ul id="myTab1" class="nav nav-tabs">
		   <li class="active">
		      <a href="#home1" data-toggle="tab">
		         Mysql1
		      </a>
		   </li>
		   <li><a href="#ios1" data-toggle="tab">Mysql2</a></li>
		      <li><a href="#jmeter1" data-toggle="tab">Mysql3</a></li>
		         <li><a href="#ejb1" data-toggle="tab">Mysql4</a></li>
		</ul>
		
		
		<div id="myTabContent" class="tab-content">
		   <div class="tab-pane fade in active" id="home1">
		      <p>Mysql1.</p>
		   </div>
		   <div class="tab-pane fade" id="ios1">
		      <p>Mysql2</p>
		   </div>
		   <div class="tab-pane fade" id="jmeter1">
		      <p>Mysql3</p>
		   </div>
		   <div class="tab-pane fade" id="ejb1">
		      <p>Mysql4</p>
		   </div>
		</div>
</div>

<div class="kafuka-kafuka hidecontiner" id="others">
	<h2>others</h2>
		<ul id="myTab2" class="nav nav-tabs">
		   <li class="active">
		      <a href="#home2" data-toggle="tab">
		         other1
		      </a>
		   </li>
		   <li><a href="#ios2" data-toggle="tab">other2</a></li>
		      <li><a href="#jmeter2" data-toggle="tab">other3</a></li>
		         <li><a href="#ejb2" data-toggle="tab">other4</a></li>
		</ul>
		
		
		<div id="myTabContent2" class="tab-content">
		   <div class="tab-pane fade in active" id="home2">
		      <p>other1.</p>
		   </div>
		   <div class="tab-pane fade" id="ios2">
		      <p>other2</p>
		   </div>
		   <div class="tab-pane fade" id="jmeter2">
		      <p>other3</p>
		   </div>
		   <div class="tab-pane fade" id="ejb2">
		      <p>other4</p>
		   </div>
		</div>
</div>

<div class="oracle-postgre hidecontiner" id="oracle-postgre">
	<h2>oracle-postgre</h2>
		<ul id="myTab3" class="nav nav-tabs">
		   <li class="active">
		      <a href="#postgre1" data-toggle="tab">postgre1</a>
		   </li>
		   <li><a href="#postgre2" data-toggle="tab">postgre2</a></li>
		      <li><a href="#postgre3" data-toggle="tab">postgre3</a></li>
		         <li><a href="#postgre4" data-toggle="tab">postgre4</a></li>
		</ul>
		
		
		<div id="myTabContent2" class="tab-content">
		   <div class="tab-pane fade in active" id="postgre1">
		      <p>postgre1.</p>
		   </div>
		   <div class="tab-pane fade" id="postgre2">
		      <p>postgre2</p>
		   </div>
		   <div class="tab-pane fade" id="postgre3">
		      <p>postgre3</p>
		   </div>
		   <div class="tab-pane fade" id="postgre3">
		      <p>postgre4</p>
		   </div>
		</div>
</div>

<div class="postgres-reids hidecontiner" id="postgres-reids">
	<h2>postgres-reids</h2>
		<ul id="myTab3" class="nav nav-tabs">
		   <li class="active">
		      <a href="#reids1" data-toggle="tab">reids1</a>
		   </li>
		   <li><a href="#reids2" data-toggle="tab">reids2</a></li>
		      <li><a href="#reids3" data-toggle="tab">reids3</a></li>
		         <li><a href="#reids4" data-toggle="tab">reids4</a></li>
		</ul>
		
		
		<div id="myTabContent2" class="tab-content">
		   <div class="tab-pane fade in active" id="reids1">
		      <p>reids1.</p>
		   </div>
		   <div class="tab-pane fade" id="reids2">
		      <p>reids2</p>
		   </div>
		   <div class="tab-pane fade" id="reids3">
		      <p>reids3</p>
		   </div>
		   <div class="tab-pane fade" id="reids4">
		      <p>reids4</p>
		   </div>
		</div>
</div>
		
<script>
$(document).ready(function(){
  $.ajax({ 
     url:"json/get.json",
    data:{   
    },
    type:"get", 
    async:false,  // 设置同步方式
    cache:false,    
    dataType:'json',
    success:function(data) {  
        if(data!=-1){
                console.log(data);
		$.each(data, function(key, value){
				 	//添加源端数据库
                    if(key=="src"){
                        $('#bar-src').empty();
                        var htmlsrc = '';
                        htmlsrc += '<td  class="td-title td-titleleft">源端：</td><td class="td-content content-intro">常规数据库:</td><td class="td-content"><div class="td-inner">';
                         $.each(data.src, function(indexSRC, valueSRC){
                                        htmlsrc += '<a class="button-type1" href="javascript:void(0);" onclick="changeplan(0, \''+valueSRC+'\')">'+valueSRC+'1</a>';
                         });
                        htmlsrc += '</div></td>';
                        $('#bar-src').html(htmlsrc);
                        $("#bar-src .td-inner a:eq(0)").addClass("active");	
                    }
                    //添加备端数据库
                    else if(key=="dst"){
                        $.each(data.dst, function(keyDST, valueDST){
                    //备端-常规数据库
                            if(keyDST=="normal"){
                                    $('#bar-dst-normal').empty();
                                    var htmldstNor = '';
                                    htmldstNor += '<td class="td-title td-titleleft" rowspan="4">目标端：</td><td class="td-content content-intro">常规数据库:</td><td class="td-content content-name">';
                                    $.each(data.dst.normal, function(indexNor, valueNor){
                                                    htmldstNor += '<a class="button-type1" href="javascript:void(0);" onclick="changeplan(1, \''+valueNor+'\')">'+valueNor+'</a>';
                                    });
                                    htmldstNor += '</td>';
                                    $('#bar-dst-normal').html(htmldstNor);
                                    $("#bar-dst-normal .content-name a:eq(0)").addClass("active");		
                            }
//                                备端-Nosql数据库
                            else if(keyDST=="nosql"){
                                    $('#bar-dst-nosql').empty();
                                    var htmldstNos = '';
                                    htmldstNos += '<td class="td-content content-intro">nosql型数据库:</td><td class="td-content">';
                                    $.each(data.dst.nosql, function(indexNosql, valueNosql){
                                                    htmldstNos += '<a class="button-type1" href="javascript:void(0);" onclick="changeplan(1, \''+valueNosql+'\')">'+valueNosql+'</a>';
                                    });
                                    htmldstNos += '</td>';
                                    $('#bar-dst-nosql').html(htmldstNos);	
                            }
//                                备端-消息队列
                            else if(keyDST=="sequence"){	
                                    $('#bar-dst-sequence').empty();
                                    var htmldstSe = '';
                                    htmldstSe += '<td class="td-content content-intro">消息队列:</td><td class="td-content content-name">';
                                    $.each(data.dst.sequence, function(indexSe, valueSe){
                                                    htmldstSe += '<a class="button-type1" href="javascript:void(0);" onclick="changeplan(1, \''+valueSe+'\')">'+valueSe+'</a>';
                                    });
                                    htmldstSe += '</td>';
                                    $('#bar-dst-sequence').html(htmldstSe);
                            }
                            else if(keyDST=="file"){	
                                    $('#bar-dst-file').empty();
                                    var htmldstFi = '';
                                    htmldstFi += '<td class="td-content content-intro">文件类型:</td><td class="td-content content-name">';
                                    $.each(data.dst.file, function(indexFi, valueFi){
                                                    htmldstFi += '<a class="button-type1" href="javascript:void(0);" onclick="changeplan(1, \''+valueFi+'\')">'+valueFi+'</a>';
                                    });
                                    htmldstFi += '</td>';
                                    $('#bar-dst-file').html(htmldstFi);
                            }
                        });
                    }

             });
            $("#tablemy").css("display","inherit");
        }
    },    
    error : function(XMLHttpRequest, textStatus, errorThrown) {
        alert("网络故障");
    } 
});
				 
  $(".choosebar a").click(function(){
    $(this).parent().children().removeClass("active");
    $(this).addClass("active");
  });
  $(".bar-1 a, .bar-2 a").click(function(){
    $(".bar-1, .bar-2").find("a").removeClass("active");
    $(this).addClass("active");
  });
});

var TargetSource = "oracle";
var TargetBack = "oracle";

function changeplan(where, type){
	if(where==0){TargetSource=type;}
	else if (where==1){TargetBack=type;}
	console.log(TargetSource);
	console.log(TargetBack);
	
	if(TargetSource!=-1 && TargetBack!=-1){
		if(TargetSource=="oracle" && TargetBack=="oracle"){
			$("#kafuka-kafuka").addClass("hidecontiner");
			$("#others").addClass("hidecontiner");
			$("#oracle-postgre").addClass("hidecontiner");
			$("#oracle-oracle").removeClass("hidecontiner");
			$("#postgres-reids").addClass("hidecontiner");
		}
		else if(TargetSource=="mysql" && TargetBack=="mysql"){
			$("#oracle-oracle").addClass("hidecontiner");
			$("#others").addClass("hidecontiner");
			$("#oracle-postgre").addClass("hidecontiner");
			$("#kafuka-kafuka").removeClass("hidecontiner");
			$("#postgres-reids").addClass("hidecontiner");
		}
		else if(TargetSource=="oracle" && TargetBack=="postgres"){
			$("#oracle-oracle").addClass("hidecontiner");
			$("#others").addClass("hidecontiner");
			$("#kafuka-kafuka").addClass("hidecontiner")
			$("#oracle-postgre").removeClass("hidecontiner");
			$("#postgres-reids").addClass("hidecontiner");
		}
		else if(TargetSource=="postgres" && TargetBack=="reids"){
			$("#oracle-oracle").addClass("hidecontiner");
			$("#others").addClass("hidecontiner");
			$("#kafuka-kafuka").addClass("hidecontiner")
			$("#oracle-postgre").addClass("hidecontiner");
			$("#postgres-reids").removeClass("hidecontiner");
		}
		else{
			$("#oracle-oracle").addClass("hidecontiner");
			$("#kafuka-kafuka").addClass("hidecontiner");
			$("#oracle-postgre").addClass("hidecontiner");
			$("#others").removeClass("hidecontiner");
			$("#postgres-reids").addClass("hidecontiner");
			
		}
	}
}
	

 $.ajax({ 
     url:"<?php echo base_url('assets/MyComponent/get-info.php'); ?>",
    data:{   
    },
    type:"post", 
    async:false,  // 设置同步方式
    cache:false,    
    dataType:'json',
    success:function(data) {  
        if(data!=-1){
                console.log(data);
		$.each(data, function(key, value){
				 	//添加源端数据库
                    if(key=="src"){
                        $('#bar-src').empty();
                        var htmlsrc = '';
                        htmlsrc += '<td  class="td-title td-titleleft">源端：</td><td class="td-content content-intro">常规数据库:</td><td class="td-content"><div class="td-inner">';
                         $.each(data.src, function(indexSRC, valueSRC){
                                        htmlsrc += '<a class="button-type1" href="javascript:void(0);" onclick="changeplan(0, \''+valueSRC+'\')">'+valueSRC+'</a>';
                         });
                        htmlsrc += '</div></td>';
                        $('#bar-src').html(htmlsrc);
                        $("#bar-src .td-inner a:eq(0)").addClass("active");	
                    }
                    //添加备端数据库
                    else if(key=="dst"){
                        $.each(data.dst, function(keyDST, valueDST){
                    //备端-常规数据库
                            if(keyDST=="normal"){
                                    $('#bar-dst-normal').empty();
                                    var htmldstNor = '';
                                    htmldstNor += '<td class="td-title td-titleleft" rowspan="4">目标端：</td><td class="td-content content-intro">常规数据库:</td><td class="td-content content-name">';
                                    $.each(data.dst.normal, function(indexNor, valueNor){
                                                    htmldstNor += '<a class="button-type1" href="javascript:void(0);" onclick="changeplan(1, \''+valueNor+'\')">'+valueNor+'</a>';
                                    });
                                    htmldstNor += '</td>';
                                    $('#bar-dst-normal').html(htmldstNor);
                                    $("#bar-dst-normal .content-name a:eq(0)").addClass("active");		
                            }
//                                备端-Nosql数据库
                            else if(keyDST=="nosql"){
                                    $('#bar-dst-nosql').empty();
                                    var htmldstNos = '';
                                    htmldstNos += '<td class="td-content content-intro">nosql型数据库:</td><td class="td-content">';
                                    $.each(data.dst.nosql, function(indexNosql, valueNosql){
                                                    htmldstNos += '<a class="button-type1" href="javascript:void(0);" onclick="changeplan(1, \''+valueNosql+'\')">'+valueNosql+'</a>';
                                    });
                                    htmldstNos += '</td>';
                                    $('#bar-dst-nosql').html(htmldstNos);	
                            }
//                                备端-消息队列
                            else if(keyDST=="sequence"){	
                                    $('#bar-dst-sequence').empty();
                                    var htmldstSe = '';
                                    htmldstSe += '<td class="td-content content-intro">消息队列:</td><td class="td-content content-name">';
                                    $.each(data.dst.sequence, function(indexSe, valueSe){
                                                    htmldstSe += '<a class="button-type1" href="javascript:void(0);" onclick="changeplan(1, \''+valueSe+'\')">'+valueSe+'</a>';
                                    });
                                    htmldstSe += '</td>';
                                    $('#bar-dst-sequence').html(htmldstSe);
                            }
                            else if(keyDST=="file"){	
                                    $('#bar-dst-file').empty();
                                    var htmldstFi = '';
                                    htmldstFi += '<td class="td-content content-intro">文件类型:</td><td class="td-content content-name">';
                                    $.each(data.dst.file, function(indexFi, valueFi){
                                                    htmldstFi += '<a class="button-type1" href="javascript:void(0);" onclick="changeplan(1, \''+valueFi+'\')">'+valueFi+'</a>';
                                    });
                                    htmldstFi += '</td>';
                                    $('#bar-dst-file').html(htmldstFi);
                            }
                        });
                    }

             });
        }
        else {
            $("#tablemy").css("display","none");
        }
    },    
    error : function(XMLHttpRequest, textStatus, errorThrown) {
        alert("网络故障");
    } 
});

</script>
	</body>
</html>
